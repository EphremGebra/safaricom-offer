<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Safaricom Self-Care</title>

<style>

:root{
 --saf-green:#00D26A;
 --black:#000;
 --grey:#f4f4f4;
 --dark:#222;
}

body{
 margin:0;
 font-family:-apple-system, system-ui, sans-serif;
 background:#f8f8f8;
 color:#333;
}

/* HEADER */
header{
 background:var(--saf-green);
 padding:15px 20px;
 color:white;
 font-weight:900;
 font-size:19px;
}

/* Dashboard Style */
.dashboard{
 padding:15px;
 max-width:500px;
 margin:auto;
}

.card{
 background:#fff;
 border-radius:18px;
 padding:18px;
 box-shadow:0 5px 18px rgba(0,0,0,.06);
 margin-bottom:12px;
}

.balance-label{
 font-size:13px;
 color:#777;
 text-transform:uppercase;
}

.balance-value{
 font-size:26px;
 font-weight:900;
}

/* Buy Button */
.buy-action-btn{
 width:100%;
 background:white;
 border-radius:16px;
 padding:15px;
 border:1px solid #eee;
 display:flex;
 align-items:center;
 gap:12px;
 cursor:pointer;
}

.buy-action-btn:active{
 transform:scale(.97);
}

.icon-box{
 width:45px;
 height:45px;
 border-radius:12px;
 background:#e8fff3;
 display:flex;
 align-items:center;
 justify-content:center;
 font-size:22px;
}

/* -------- POPUP SYSTEM -------- */

.overlay{
 position:fixed;
 inset:0;
 display:none;
 align-items:center;
 justify-content:center;
 backdrop-filter:blur(6px);
 background:rgba(0,0,0,.55);
 z-index:99999;
}

/* üî• MINI POPUP RECTANGLE */
.popup{
 width:92%;
 max-width:340px;
 border-radius:22px;
 background:white;
 padding:20px;
 box-shadow:0 25px 60px rgba(0,0,0,.25);
 text-align:center;
 animation:pop .25s ease;
}

@keyframes pop{
 from{transform:scale(.6);opacity:0;}
 to{transform:scale(1);opacity:1;}
}

.offer-circle{
 width:62px;
 height:62px;
 border-radius:50%;
 background:black;
 color:var(--saf-green);
 display:flex;
 align-items:center;
 justify-content:center;
 font-size:30px;
 margin:auto;
}

.price-badge{
 background:#e9fff4;
 padding:5px 11px;
 border-radius:20px;
 font-size:13px;
 margin-top:7px;
 font-weight:700;
 color:#059669;
}

.menu-list{
 margin-top:12px;
 display:flex;
 flex-direction:column;
 gap:10px;
}

.menu-item{
 border:1px solid #eee;
 padding:13px;
 border-radius:12px;
 font-weight:800;
 font-size:14px;
 cursor:pointer;
}

.menu-item:active{
 background:#f1fff7;
 border-color:var(--saf-green);
}

.actions{
 display:flex;
 gap:10px;
 margin-top:18px;
}

.btn{
 flex:1;
 padding:13px;
 border-radius:30px;
 border:none;
 font-weight:800;
 cursor:pointer;
}

.btn-green{background:var(--saf-green);color:white;}
.btn-grey{background:#eee;color:#444;}

input{
 width:100%;
 padding:13px;
 border-radius:12px;
 border:2px solid #ddd;
 font-size:17px;
 text-align:center;
}

input:focus{
 border-color:var(--saf-green);
 outline:none;
}

</style>
</head>

<body>

<header>Safaricom</header>

<div class="dashboard">

 <div class="card">
   <div class="balance-label">Airtime Balance</div>
   <div class="balance-value">45.50 ETB</div>
 </div>

 <button class="buy-action-btn" onclick="openFootballPopup()">
   <div class="icon-box">üì¶</div>
   <div>
    <div style="font-weight:900">Buy Packages</div>
    <small style="color:#777">Voice ‚Ä¢ Data ‚Ä¢ Offers</small>
   </div>
 </button>

</div>


<!-- POPUP -->
<div class="overlay" id="modal">

 <div class="popup">

  <!-- choice -->
  <div id="choice-view">
   <div class="offer-circle">‚öΩ</div>
   <h3>Football Pack</h3>
   <div class="price-badge">35 Birr ‚Ä¢ Weekend</div>

   <div class="menu-list">
    <div class="menu-item" onclick="goConfirm('My Number')">üì± My Number</div>
    <div class="menu-item" onclick="goInput()">üéÅ Other Number</div>
   </div>

   <button class="btn" style="margin-top:10px;color:#777" onclick="closePopup()">Not Now</button>
  </div>

  <!-- input -->
  <div id="input-view" style="display:none">
   <h3>Enter Number</h3>
   <p style="font-size:13px;color:#777">Gift to another Safaricom user</p>
   <input id="giftNumber" type="tel" placeholder="07XXXXXXXX">

   <div class="actions">
    <button class="btn btn-grey" onclick="show('choice-view')">Back</button>
    <button class="btn btn-green" onclick="validate()">Continue</button>
   </div>
  </div>

  <!-- confirm -->
  <div id="confirm-view" style="display:none">
   <h3>Confirm Purchase</h3>
   <p>You are buying Football Pack for:</p>
   <div id="target" style="font-weight:900;color:var(--saf-green);font-size:18px"></div>

   <div class="actions">
    <button class="btn btn-grey" onclick="backChoice()">Cancel</button>
    <button class="btn btn-green" onclick="success()">Confirm</button>
   </div>
  </div>

  <!-- success -->
  <div id="success-view" style="display:none">
   <div class="offer-circle" style="background:#E9FFF3;color:var(--saf-green)">‚úî</div>
   <h3>Success üéâ</h3>
   <p style="color:#777">Package activated successfully</p>
   <button class="btn btn-green" style="width:100%" onclick="closePopup()">Done</button>
  </div>

 </div>
</div>


<script>

let selection = "";

window.onload = ()=>{
 const p = new URLSearchParams(location.search);
 if(p.get("offer")==="football") openFootballPopup();
}

function openFootballPopup(){
 document.getElementById("modal").style.display="flex";
}

function closePopup(){
 document.getElementById("modal").style.display="none";
 reset();
}

function show(v){
 ["choice-view","input-view","confirm-view","success-view"]
 .forEach(x=>document.getElementById(x).style.display="none");
 document.getElementById(v).style.display="block";
}

function goInput(){ show("input-view"); }

function validate(){
 let n=document.getElementById("giftNumber").value;
 if(n.length<9) return alert("Invalid Number");
 goConfirm(n);
}

function goConfirm(target){
 selection=target;
 document.getElementById("target").innerText=target;
 show("confirm-view");
}

function backChoice(){
 if(selection==="My Number") show("choice-view");
 else show("input-view");
}

function success(){
 show("success-view");
}

function reset(){
 show("choice-view");
 document.getElementById("giftNumber").value="";
}

</script>

</body>
</html>
